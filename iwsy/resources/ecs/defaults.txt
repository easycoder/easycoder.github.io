!	Defaults

	script Defaults
    
    import div Panel and variable Presentation
    
    div GlobalTitle
    div GlobalPanel
    div ContainerTitle
    div ContainerPanel
    div DefaultsTitle
    div DefaultsPanel
    div Row
    div Label
    input GlobalInput
    input ContainerInput
    input DefaultsInput
    variable Globals
    variable Container
    variable Defaults
    variable GlobalItems
    variable ContainerItems
    variable DefaultsItems
    variable Name
    variable Value
    variable N
    
    on message go to Start
    set ready
    stop
    
Start:
	if the message is `save`
    begin
    	stop
    end

	clear Panel

	set style `display` of Panel to `flex`
	set style `flex-direction` of Panel to `column`
    
    create GlobalTitle in Panel
    set the style of GlobalTitle to `font-weight:bold;font-size:110%;background:lightgray;`
    	cat `padding:0.2em;text-align:center;margin-top:0.5em`
    
    create GlobalPanel in Panel
	set the style of GlobalPanel to
    	`height:auto;max-height:25%;overflow-y:scroll;margin-top:0.5em`
    
    create ContainerTitle in Panel
    set the style of ContainerTitle to `font-weight:bold;font-size:110%;background:lightgray;`
    	cat `padding:0.2em;text-align:center;margin-top:1em`
    
    create ContainerPanel in Panel
	set the style of ContainerPanel to
    	`height:auto;max-height:20%;overflow-y:scroll;margin-top:0.5em`
    
    create DefaultsTitle in Panel
    set the style of DefaultsTitle to `font-weight:bold;font-size:110%;background:lightgray;`
    	cat `padding:0.2em;text-align:center;margin-top:1em`
    
    create DefaultsPanel in Panel
	set the style of DefaultsPanel to
    	`flex:1;max-height:60%;overflow-y:scroll;margin-top:0.5em`
    
    set GlobalItems to array
    json add `title` to GlobalItems
    json add `description` to GlobalItems
    json add `aspectW` to GlobalItems
    json add `aspectH` to GlobalItems
    
    set ContainerItems to array
    json add `background` to ContainerItems
    json add `border` to ContainerItems
    
    set DefaultsItems to array
    json add `fontFamily` to DefaultsItems
    json add `fontSize` to DefaultsItems
    json add `fontWeight` to DefaultsItems
    json add `fontStyle` to DefaultsItems
    json add `fontColor` to DefaultsItems
    json add `textAlign` to DefaultsItems
    json add `textMarginLeft` to DefaultsItems
    json add `textMarginTop` to DefaultsItems
    json add `blockLeft` to DefaultsItems
    json add `blockTop` to DefaultsItems
    json add `blockWidth` to DefaultsItems
    json add `blockBackground` to DefaultsItems
    json add `blockBorder` to DefaultsItems
    json add `blockBorderRadius` to DefaultsItems
    
    put property `global` of Presentation into Globals
    put property `container` of Presentation into Container
    put property `defaults` of Presentation into Defaults
    
	clear GlobalPanel
    clear ContainerPanel
	clear DefaultsPanel
    set the content of GlobalTitle to `Global defaults`
    set the content of ContainerTitle to `Container defaults`
    set the content of DefaultsTitle to `Block defaults`
    
    put the json count of GlobalItems into N
    set the elements of GlobalInput to N
    put 0 into N
    while N is less than the elements of GlobalInput
    begin
	    create Row in GlobalPanel
    	set the style of Row to `display:flex;margin-top:0.2em`
        create Label in Row
        set the style of Label to `width:10em`
        put element N of GlobalItems into Name
        set the content of Label to Name
        create GlobalInput in Row
        set the style of GlobalInput to `flex:1;margin-right:0.5em`
        put property Name of Globals into Value
        set the text of GlobalInput to Value
    	add 1 to N
    end
    
    put the json count of ContainerItems into N
    set the elements of ContainerInput to N
    put 0 into N
    while N is less than the elements of ContainerInput
    begin
	    create Row in ContainerPanel
    	set the style of Row to `display:flex;margin-top:0.2em`
        create Label in Row
        set the style of Label to `width:10em`
        put element N of ContainerItems into Name
        set the content of Label to Name
        create ContainerInput in Row
        set the style of ContainerInput to `flex:1;margin-right:0.5em`
        put property Name of Container into Value
        set the text of ContainerInput to Value
    	add 1 to N
    end
    
    put the json count of DefaultsItems into N
    set the elements of DefaultsInput to N
    put 0 into N
    while N is less than the elements of DefaultsInput
    begin
	    create Row in DefaultsPanel
    	set the style of Row to `display:flex;margin-top:0.2em`
        create Label in Row
        set the style of Label to `width:10em`
        put element N of DefaultsItems into Name
        set the content of Label to Name
        create DefaultsInput in Row
        set the style of DefaultsInput to `flex:1;margin-right:0.5em`
        put property Name of Defaults into Value
        set the text of DefaultsInput to Value
    	add 1 to N
    end
	stop