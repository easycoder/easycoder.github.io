<h2>Handling lists</h2><p>A list in <span style="color:#660000"><strong>E</strong></span><span style="color:#000099"><strong>asy</strong></span><span style="color:#660000"><strong>C</strong></span><span style="color:#000099"><strong>oder</strong></span> is a text string in the JSON format, which is a way of representing data structures. For a list this is a set of elements, though there are other ways data can be organized, which we&#39;ll come to in another step.</p><p>In this example we&#39;ll set up a shopping list, then we&#39;ll sort it into alphabetical order. The simplest form of the list is where each item is just a name. Click this button to load the example code into the editor:</p><div id="clear" style="display:none">y</div><div id="code"> </div><div style="color:#660000; text-align:center"><a href="#" id="copy">Load example code into the editor</a></div><p>At the start of the script are the variables we will use. Of particular note are <span style="color:#660000"><span style="font-family:Courier New,Courier,monospace">OriginalList</span></span> and <span style="color:#660000"><span style="font-family:Courier New,Courier,monospace">DisplayList</span></span>. The first of these is the list as entered, with the items in no particular order. The second is the same list after it has been prepared for display.</p><p>At lines 16-25 we create our original list. We start by clearing the <span style="color:#660000"><span style="font-family:Courier New,Courier,monospace">OriginalList</span></span> variable, then we add the items one by one.</p><p>Then we build the user interface; a panel to hold the list and 2 buttons underneath. No prizes here for styling, of course. The 2 buttons each have actions attached to them, to be performed when they are clicked. The <span style="color:#660000"><span style="font-family:Courier New,Courier,monospace">Unsorted</span></span> button simply jumps to a label further down, to save repeating the same code. To display the list we copy the original list to the display list and call the <span style="color:#660000"><span style="font-family:Courier New,Courier,monospace">Display</span></span> subroutine, which adds each item in turn to the panel.</p><p>When we click the Sorted button we copy the list but then sort it before displaying. In <span style="color:#660000"><strong>E</strong></span><span style="color:#000099"><strong>asy</strong></span><span style="color:#660000"><strong>C</strong></span><span style="color:#000099"><strong>oder</strong></span>, as in JavaScript itself, no assumptions are made as to how you want the sort to be done. Usually you want an alphabetical sort, but suppose you want the items ordered by the lengths of their names? To allow maximum flexibility, programming languages left you define a <em>comparison function</em> that takes 2 items from the list and compares them. Here the function is called <span style="color:#660000"><span style="font-family:Courier New,Courier,monospace">AlphabeticSort</span></span> and it works like this:</p><p>The <span style="color:#660000"><span style="font-family:Courier New,Courier,monospace">sort</span></span> command operates by comparing elements in the list until they are in the desired order. It knows when this has happened by examining the results from the user-specified comparator function (<span style="color:#660000"><span style="font-family:Courier New,Courier,monospace">AlphabeticSort</span></span>). This function will be called several times, each time with a pair of elements, and each time it must return a value that says whether they are in the correct order. The 2 elements are supplied as arguments of the array itself, with special names <span style="color:#660000"><span style="font-family:Courier New,Courier,monospace">a</span></span> and <span style="font-family:Courier New,Courier,monospace"><span style="color:#660000">b</span></span>. Our comparison function compares these and places the result into another argument called <span style="color:#660000"><span style="font-family:Courier New,Courier,monospace">v</span></span>. The values returned are 1, 0 or -1, depending whether the first argument has a value that is greater, the same as or less than the second argument. Once the list is sorted it is then displayed.</p><p>Note that in this case the values are strings, not numbers, so the comparison is alphabetic.</p><p>This technique allows you to do whatever sorting you require. Let&#39;s now sort by word length. Try replacing lines 65 and 66 with</p><p><span style="color:#660000"><span style="font-family:Courier New,Courier,monospace">if the length of A is greater than the length of B put 1 into Result<br />else if the length of A is less than the length of B put -1 into Result</span></span></p><p>and see what happens. The list will now be in order of word length. However, there are 4 items with 4 letters and 2 with 6 letters, and these are not sorted alphabetically. To make this happen we need to change line 67 to the following:</p><p><span style="color:#660000"><span style="font-family:Courier New,Courier,monospace">else<br />begin<br>   if A is greater than B put 1 into Result<br>   else if A is less than B put -1 into Result<br>   else put 0 into Result<br>end</p><p>Here we&#39;ve added a second comparison, this time on the actual values as before, that only happens if the two items have the same length.</p><p>In the next step we&#39;ll look at some more advanced sorting.</p><h2>Next: <a href="#" id="next">Advanced sorting</a></h2>